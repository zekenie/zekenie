{% macro logo() %}
<a
  href="/"
  style="width: 364px; transform: scale(0.4); transform-origin: left"
  class="
    shadow-2xl
    bg-gray-800
    ring-4 ring-offset-transparent ring-offset-2 ring-gray-800
    overflow-hidden
    flex flex-row
    flex-shrink-0
  "
>
  <div class="flex flex-col w-12">
    <div class="flex-grow"></div>
    <div class="bg-gradient-to-bl h-2.5 bg-white"></div>
  </div>
  <div class="text-white flex-grow text-5xl font-mono font-semibold p-4 pl-0">
    off-by-one
  </div>
</a>
{% endmacro %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
      {{title or "Off by one"}}
    </title>
    <meta charset="UTF-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
    />
    {% metagen
      title=title or metadata.title,
      desc=description or metadata.description,
      url=url + page.url,
      img=site.url+previewImage,
      twitter_card_type="summary_large_image",
      twitter_handle=twitter or "_off_by_one",
      name=name or "Zeke Nierenberg"
    %}
    <link rel="stylesheet" href="/style.css?v={% version %}" />
    <link rel="alternate" type="application/atom+xml" title="Feed" href="/feed.xml" />
    <link rel="apple-touch-icon" sizes="180x180" href="/public/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/public/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/public/favicon-16x16.png">
    <link rel="manifest" href="/public/site.webmanifest">

    <link rel="preload" href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css"></noscript>

    
    {% for pre in preload %}
      <link rel="prefetch" as="document" href="{{pre}}" />
    {% endfor %}  
  

    {% block head %}{% endblock %}
  </head>
  <body>
    <div class="max-w-3xl mx-auto mt-3 px-3 lg:px-0">
      <div class="flex flex-row justify-between items-center">
        <div class="flex w-1/2 overflow-visible">
          {{ logo() }}
        </div>
        <div class="text-gray-600 flex-shrink text-sm flex flex-row space-x-2 items-center">
          <a class="transition duration-150 hover:text-gray-900" href="/feed.xml">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <title>Atom Feed</title>
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z" />
            </svg>
          </a>
        </div>
      </div>
      <div class="mt-12">
        {% block content %}
        
        {{ content | safe }}
        {% endblock %}
      </div>
    </div>
    {% mermaid_js %}
  </body>
</html>
